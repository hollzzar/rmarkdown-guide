<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Formatting | R Markdown for Psychology Graduate Students</title>
  <meta name="description" content="Guide to using R Markdown" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Formatting | R Markdown for Psychology Graduate Students" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Guide to using R Markdown" />
  <meta name="github-repo" content="hollzzar/rmarkdown-guide" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Formatting | R Markdown for Psychology Graduate Students" />
  
  <meta name="twitter:description" content="Guide to using R Markdown" />
  

<meta name="author" content="Holly Zaharchuk" />


<meta name="date" content="2020-05-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="content.html"/>
<link rel="next" href="organization.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Markdown for Psychology Graduate Students</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#background"><i class="fa fa-check"></i><b>1.1</b> Background</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#getting-started"><i class="fa fa-check"></i><b>1.2</b> Getting started</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#tips"><i class="fa fa-check"></i><b>1.2.1</b> Tips</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#general-reference-documents"><i class="fa fa-check"></i><b>1.2.2</b> General reference documents</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Parts of a document</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#yaml-header"><i class="fa fa-check"></i><b>2.1</b> YAML header</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#markintro"><i class="fa fa-check"></i><b>2.2</b> Markdown</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#chunkex"><i class="fa fa-check"></i><b>2.3</b> Code chunks</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="output.html"><a href="output.html"><i class="fa fa-check"></i><b>3</b> Outputs</a><ul>
<li class="chapter" data-level="3.1" data-path="output.html"><a href="output.html#output-options"><i class="fa fa-check"></i><b>3.1</b> Output options</a></li>
<li class="chapter" data-level="3.2" data-path="output.html"><a href="output.html#rendering-options"><i class="fa fa-check"></i><b>3.2</b> Rendering options</a></li>
<li class="chapter" data-level="3.3" data-path="output.html"><a href="output.html#knitting-process"><i class="fa fa-check"></i><b>3.3</b> Knitting process</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="template.html"><a href="template.html"><i class="fa fa-check"></i><b>4</b> Templates</a><ul>
<li class="chapter" data-level="4.1" data-path="template.html"><a href="template.html#built-in-templates"><i class="fa fa-check"></i><b>4.1</b> Built-in templates</a></li>
<li class="chapter" data-level="4.2" data-path="template.html"><a href="template.html#packages"><i class="fa fa-check"></i><b>4.2</b> Templates from R packages</a></li>
<li class="chapter" data-level="4.3" data-path="template.html"><a href="template.html#usedef"><i class="fa fa-check"></i><b>4.3</b> User-defined templates</a><ul>
<li class="chapter" data-level="4.3.1" data-path="template.html"><a href="template.html#pdf"><i class="fa fa-check"></i><b>4.3.1</b> PDF</a></li>
<li class="chapter" data-level="4.3.2" data-path="template.html"><a href="template.html#word"><i class="fa fa-check"></i><b>4.3.2</b> Word</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="content.html"><a href="content.html"><i class="fa fa-check"></i><b>5</b> Content</a><ul>
<li class="chapter" data-level="5.1" data-path="content.html"><a href="content.html#markdown-overview"><i class="fa fa-check"></i><b>5.1</b> Markdown overview</a></li>
<li class="chapter" data-level="5.2" data-path="content.html"><a href="content.html#special-characters"><i class="fa fa-check"></i><b>5.2</b> Special characters</a></li>
<li class="chapter" data-level="5.3" data-path="content.html"><a href="content.html#rintext"><i class="fa fa-check"></i><b>5.3</b> Inline R</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="format.html"><a href="format.html"><i class="fa fa-check"></i><b>6</b> Formatting</a><ul>
<li class="chapter" data-level="6.1" data-path="format.html"><a href="format.html#yaml-parameters"><i class="fa fa-check"></i><b>6.1</b> YAML parameters</a></li>
<li class="chapter" data-level="6.2" data-path="format.html"><a href="format.html#yamlref"><i class="fa fa-check"></i><b>6.2</b> YAML references</a><ul>
<li class="chapter" data-level="6.2.1" data-path="format.html"><a href="format.html#bib"><i class="fa fa-check"></i><b>6.2.1</b> .bib</a></li>
<li class="chapter" data-level="6.2.2" data-path="format.html"><a href="format.html#csl"><i class="fa fa-check"></i><b>6.2.2</b> .csl</a></li>
<li class="chapter" data-level="6.2.3" data-path="format.html"><a href="format.html#cls-and-.css"><i class="fa fa-check"></i><b>6.2.3</b> .cls and .css</a></li>
<li class="chapter" data-level="6.2.4" data-path="format.html"><a href="format.html#luaex"><i class="fa fa-check"></i><b>6.2.4</b> .lua</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="format.html"><a href="format.html#inline-code"><i class="fa fa-check"></i><b>6.3</b> Inline code</a><ul>
<li class="chapter" data-level="6.3.1" data-path="format.html"><a href="format.html#latexpacks"><i class="fa fa-check"></i><b>6.3.1</b> <span class="math inline">\(\LaTeX\)</span></a></li>
<li class="chapter" data-level="6.3.2" data-path="format.html"><a href="format.html#csshtml"><i class="fa fa-check"></i><b>6.3.2</b> CSS/HTML</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="format.html"><a href="format.html#help"><i class="fa fa-check"></i><b>6.4</b> Custom functions</a></li>
<li class="chapter" data-level="6.5" data-path="format.html"><a href="format.html#editing-templates"><i class="fa fa-check"></i><b>6.5</b> Editing templates</a><ul>
<li class="chapter" data-level="6.5.1" data-path="format.html"><a href="format.html#clsex"><i class="fa fa-check"></i><b>6.5.1</b> Directory documents</a></li>
<li class="chapter" data-level="6.5.2" data-path="format.html"><a href="format.html#package-documents"><i class="fa fa-check"></i><b>6.5.2</b> Package documents</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="organization.html"><a href="organization.html"><i class="fa fa-check"></i><b>7</b> Organization</a><ul>
<li class="chapter" data-level="7.1" data-path="organization.html"><a href="organization.html#child-documents"><i class="fa fa-check"></i><b>7.1</b> Child documents</a></li>
<li class="chapter" data-level="7.2" data-path="organization.html"><a href="organization.html#sourcing-code"><i class="fa fa-check"></i><b>7.2</b> Sourcing code</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="trouble.html"><a href="trouble.html"><i class="fa fa-check"></i><b>8</b> Troubleshooting</a><ul>
<li class="chapter" data-level="8.1" data-path="trouble.html"><a href="trouble.html#warnings-vs.-errors"><i class="fa fa-check"></i><b>8.1</b> Warnings vs. errors</a><ul>
<li class="chapter" data-level="8.1.1" data-path="trouble.html"><a href="trouble.html#warnings"><i class="fa fa-check"></i><b>8.1.1</b> Warnings</a></li>
<li class="chapter" data-level="8.1.2" data-path="trouble.html"><a href="trouble.html#errors"><i class="fa fa-check"></i><b>8.1.2</b> Errors</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="trouble.html"><a href="trouble.html#rstudio-vs.-r-markdown-environments"><i class="fa fa-check"></i><b>8.2</b> RStudio vs. R Markdown environments</a></li>
<li class="chapter" data-level="8.3" data-path="trouble.html"><a href="trouble.html#package-issues"><i class="fa fa-check"></i><b>8.3</b> Package issues</a><ul>
<li class="chapter" data-level="8.3.1" data-path="trouble.html"><a href="trouble.html#package-specification"><i class="fa fa-check"></i><b>8.3.1</b> Package specification</a></li>
<li class="chapter" data-level="8.3.2" data-path="trouble.html"><a href="trouble.html#updates"><i class="fa fa-check"></i><b>8.3.2</b> Updates</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="trouble.html"><a href="trouble.html#strategies"><i class="fa fa-check"></i><b>8.4</b> Strategies</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="supplement.html"><a href="supplement.html"><i class="fa fa-check"></i><b>9</b> Supplementary materials</a><ul>
<li class="chapter" data-level="9.1" data-path="supplement.html"><a href="supplement.html#beginner-r"><i class="fa fa-check"></i><b>9.1</b> Beginner R</a><ul>
<li class="chapter" data-level="9.1.1" data-path="supplement.html"><a href="supplement.html#basic-r-functionality"><i class="fa fa-check"></i><b>9.1.1</b> Basic R functionality</a></li>
<li class="chapter" data-level="9.1.2" data-path="supplement.html"><a href="supplement.html#variables"><i class="fa fa-check"></i><b>9.1.2</b> Variables</a></li>
<li class="chapter" data-level="9.1.3" data-path="supplement.html"><a href="supplement.html#functions"><i class="fa fa-check"></i><b>9.1.3</b> Functions</a></li>
<li class="chapter" data-level="9.1.4" data-path="supplement.html"><a href="supplement.html#base-r"><i class="fa fa-check"></i><b>9.1.4</b> <code>base</code> R</a></li>
<li class="chapter" data-level="9.1.5" data-path="supplement.html"><a href="supplement.html#scholarex"><i class="fa fa-check"></i><b>9.1.5</b> Packages</a></li>
<li class="chapter" data-level="9.1.6" data-path="supplement.html"><a href="supplement.html#operators"><i class="fa fa-check"></i><b>9.1.6</b> Operators</a></li>
<li class="chapter" data-level="9.1.7" data-path="supplement.html"><a href="supplement.html#reading-in-data"><i class="fa fa-check"></i><b>9.1.7</b> Reading in data</a></li>
<li class="chapter" data-level="9.1.8" data-path="supplement.html"><a href="supplement.html#tidy-r-philosophy"><i class="fa fa-check"></i><b>9.1.8</b> Tidy R philosophy</a></li>
<li class="chapter" data-level="9.1.9" data-path="supplement.html"><a href="supplement.html#manipulating-data-with-tidyr"><i class="fa fa-check"></i><b>9.1.9</b> Manipulating data with <code>tidyr</code></a></li>
<li class="chapter" data-level="9.1.10" data-path="supplement.html"><a href="supplement.html#other-helpful-tidyr-functions"><i class="fa fa-check"></i><b>9.1.10</b> Other helpful <code>tidyr</code> functions</a></li>
<li class="chapter" data-level="9.1.11" data-path="supplement.html"><a href="supplement.html#helpful-base-r-functions"><i class="fa fa-check"></i><b>9.1.11</b> Helpful <code>base</code> R functions</a></li>
<li class="chapter" data-level="9.1.12" data-path="supplement.html"><a href="supplement.html#other-packages-and-functions"><i class="fa fa-check"></i><b>9.1.12</b> Other packages and functions</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="supplement.html"><a href="supplement.html#intermediate-r"><i class="fa fa-check"></i><b>9.2</b> Intermediate R</a><ul>
<li class="chapter" data-level="9.2.1" data-path="supplement.html"><a href="supplement.html#free-response-text"><i class="fa fa-check"></i><b>9.2.1</b> Free-response text</a></li>
<li class="chapter" data-level="9.2.2" data-path="supplement.html"><a href="supplement.html#dynamic-variables"><i class="fa fa-check"></i><b>9.2.2</b> Dynamic variables</a></li>
<li class="chapter" data-level="9.2.3" data-path="supplement.html"><a href="supplement.html#helpful-functions"><i class="fa fa-check"></i><b>9.2.3</b> Helpful functions</a></li>
<li class="chapter" data-level="9.2.4" data-path="supplement.html"><a href="supplement.html#other-tips"><i class="fa fa-check"></i><b>9.2.4</b> Other tips</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="supplement.html"><a href="supplement.html#practice-materials"><i class="fa fa-check"></i><b>9.3</b> Practice materials</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/hollzzar/rmarkdown-guide" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Markdown for Psychology Graduate Students</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="format" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Formatting</h1>
<div id="yaml-parameters" class="section level2">
<h2><span class="header-section-number">6.1</span> YAML parameters</h2>
<p>There are several <a href="https://ymlthis.r-lib.org/articles/yaml-fieldguide.html">general YAML options</a> that you can include in the YAML header to format your documents. You can also add <strong>params</strong> to the YAML header that you can specify when you render your document and call in your code chunks to make <a href="https://rmarkdown.rstudio.com/developer_parameterized_reports.html%23parameter_types%2F">parameterized reports</a>. Some YAML options require quotation marks, while others don’t. In general, if the YAML option is a string of text that you’re specifying, like the title or your name, then it should be in quotes. If you’re setting a programmatic option, like the output type, then it shouldn’t be in quotes.</p>
<p>For the string options, there’s some custom formatting you can do. The first example below shows how you can center a title and force a line break. The second shows how you can automatically pull the date and time when you knit your document and format it in a particular way. This is actually R code that is embedded in a string by putting the function call between backticks with a lowercase r. You can use the same principle to put R code and functions in the text of an R Markdown document (see Section <a href="content.html#rintext">5.3</a> for more information).</p>
<p><img src="images/formatting_title.png" width="625" /><img src="images/formatting_date.png" width="637" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="format.html#cb8-1"></a><span class="co"># Show date formatting code</span></span>
<span id="cb8-2"><a href="format.html#cb8-2"></a><span class="co"># You can run ?Sys.time in the console for more information </span></span>
<span id="cb8-3"><a href="format.html#cb8-3"></a><span class="co"># on the options you can pass to format</span></span>
<span id="cb8-4"><a href="format.html#cb8-4"></a><span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">&#39;%B %d, %Y&#39;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;May 04, 2020&quot;</code></pre>
<p>There are also template-specific parameters, but you’ll need to look at the specific package documentation to know what these are.</p>
</div>
<div id="yamlref" class="section level2">
<h2><span class="header-section-number">6.2</span> YAML references</h2>
<p>In your YAML header, you can reference other documents for formatting and content.</p>
<div id="bib" class="section level3">
<h3><span class="header-section-number">6.2.1</span> .bib</h3>
<p>To cite references, you need to set the <em>bibliography</em> option in the YAML header. I use BibDesk for my reference manager, which creates a .bib file, or you can create a .bib file directly in <span class="math inline">\(\LaTeX\)</span>. You can also construct a <a href="https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html">.bib file</a> through R. See Section <a href="supplement.html#scholarex">9.1.5</a> or the <a href="https://github.com/hollzzar/zaharchuk-cv/blob/master/Zaharchuk_CV.Rmd">.Rmd file for my CV</a> for examples with the <code>scholar</code> package.</p>
<p>By default, if you reference a .bib file, the references will appear at the very end of the document. This is usually fine, but sometimes you may want to control the placement of the references, as with a CV. In this case, you can use a .lua filter as described in Section <a href="format.html#luaex">6.2.4</a> to place your references in a particular spot.</p>
<p>To create in-text citations, you’ll use the cite key from your .bib file with the @ symbol. Full information on citing syntax can be found <a href="https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html#citation_syntax">here</a>. When you cite something from your .bib file, it will appear in your references section when you knit your document. If you want to include all of the references from your .bib file in your reference section, regardless of whether you’ve cited them or not in the document, set the <strong>nocite</strong> option in the YAML header to <strong>“@*”</strong>.</p>
</div>
<div id="csl" class="section level3">
<h3><span class="header-section-number">6.2.2</span> .csl</h3>
<p>To determine the type of formatting for your references, you can include a citation style language or <a href="https://github.com/citation-style-language/styles">.csl file</a>. There are other ways to set the format of bibliographies, but a .csl file allows fine-grained control over citations that you can also customize. My <a href="https://github.com/hollzzar/zaharchuk-cv">CV</a> repository has a customized APA 6 .csl file for arranging references in descending order by date. My <a href="https://github.com/hollzzar/psychonomics-poster">Psychonomics poster</a> repository also has a customized APA 6 .csl to fix some small bugs.</p>
</div>
<div id="cls-and-.css" class="section level3">
<h3><span class="header-section-number">6.2.3</span> .cls and .css</h3>
<p>You can include .cls files (not to be confused with the .csl files above) for <span class="math inline">\(\LaTeX\)</span> styling or .css files for HTML styling. You can see an example of the .cls file that formats my <a href="https://github.com/hollzzar/zaharchuk-cv">CV</a> in Section <a href="format.html#clsex">6.5.1</a>. This guide itself uses .css files that you can find <a href="https://github.com/hollzzar/rmarkdown-guide">here</a> to control the formatting.</p>
</div>
<div id="luaex" class="section level3">
<h3><span class="header-section-number">6.2.4</span> .lua</h3>
<p>Sometimes, you need to interact with pandoc directly in order to achieve a particular formatting outcome. To do this, you need to use a .lua filter.</p>
<p>The <a href="https://github.com/pandoc/lua-filters/tree/master/multiple-bibliographies">multiple-bibliographies.lua file</a> is incredibly useful. It allows you to use multiple bibliographies in one document, as I do in my <a href="https://github.com/hollzzar/zaharchuk-cv">CV</a> (one for publications, another for conference presentations). Even if you don’t have multiple bibliographies, using this .lua filter will allow you to place your reference section in a particular part of your document.</p>
<p>The <a href="https://github.com/hollzzar/zaharchuk-cv/blob/master/Zaharchuk_CV.Rmd">.Rmd file for my CV</a> shows how to use multiple bibliographies in R Markdown. First, you need to add a name to each bibliography in the YAML header with an underscore. You can also see how I’ve referenced this .lua file in the <strong>pandoc_args</strong> option in the YAML header. For this document to knit properly, the .lua file needs to be in the same place as my .Rmd file.</p>
<p><img src="images/references_example.png" width="458" /></p>
<p>Then, you can place the reference section for each bibliography in the appropriate place. This example also shows how you can alter the formatting locally for just the reference section with <span class="math inline">\(\LaTeX\)</span> commands.</p>
<p><img src="images/references_placement.png" width="311" /></p>
<p>Another very useful .lua file handles in-text APA citations. By default, pandoc uses “&amp;” for in-text citations where APA would require “and,” even if you’re using a .csl file for APA formatting. Rather than downloading a file like with <em>multiple-bibliographies.lua</em>, this file is already stored with pandoc: you just need to reference it. Follow <a href="https://cran.rstudio.com/web/packages/rmdfiltr/vignettes/replace_ampersands.html">these instructions</a> to access and reference this .lua filter The example below from my Master’s thesis shows how you can reference multiple .lua filter in one document.</p>
<p><img src="images/lua_example.png" width="790" /></p>
</div>
</div>
<div id="inline-code" class="section level2">
<h2><span class="header-section-number">6.3</span> Inline code</h2>
<p>R Markdown supports inline code for custom formatting.</p>
<div id="latexpacks" class="section level3">
<h3><span class="header-section-number">6.3.1</span> <span class="math inline">\(\LaTeX\)</span></h3>
<p>In PDFs, you can use code, typesetting commands (e.g., \vspace{12pt}), and specific packages from <span class="math inline">\(\LaTeX\)</span>. There are useful lists of symbols <a href="https://www.rpi.edu/dept/arc/training/latex/LaTeX_symbols.pdf">here</a> and <a href="https://www.tug.org/tugboat/tb17-2/tb51rei.pdf">here</a>. Check out <a href="https://www.rosannavanhespen.nl/thesis_in_rmarkdown/">Writing Your Thesis with R Markdown</a> and Section <a href="format.html#latexpacks">6.3.1</a> below for examples using <span class="math inline">\(\LaTeX\)</span> packages and typesetting commands.</p>
<p>I’ve included examples of calling packages in the YAML header and using inline functions from my statistics homework below (also see <a href="https://www.rosannavanhespen.nl/thesis_in_rmarkdown/">Writing Your Thesis with R Markdown</a>).</p>
<p><img src="images/latex_packages.png" width="299" /><img src="images/latex_calls.png" width="335" /></p>
<p><img src="images/latex_example.png" width="683" /></p>
</div>
<div id="csshtml" class="section level3">
<h3><span class="header-section-number">6.3.2</span> CSS/HTML</h3>
<p>In HTML documents, you can include <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a> commands. I have some examples in <a href="https://github.com/hollzzar/markdown-tutorial/blob/master/brownbag_slides.Rmd">these <code>revealjs</code> slides</a>, where I wanted to left-align slide text while keeping titles centered.</p>
<p>Here are some examples of using CSS from <a href="https://github.com/hollzzar/psychonomics-poster/blob/master/Psychonomics.Rmd">my Psychonomics poster</a>. The first example includes custom CSS in a <code>knitr::kable</code> table to add borders of a particular color between some rows. The second example changes the font size of the references section at the end of the poster.</p>
<p><img src="images/css_example.png" width="744" /></p>
<p><img src="images/html_example.png" width="374" /></p>
</div>
</div>
<div id="help" class="section level2">
<h2><span class="header-section-number">6.4</span> Custom functions</h2>
<p>If you’re fairly comfortable with R, you can write formatting functions for yourself to make your life easier when you’re referencing variables in your text.</p>
<p>When I was working on my Master’s thesis, I wrote some custom functions for statistical values that I had to report over and over. This was particularly useful when I had to switch from referring to any <em>p</em> values over .05 as <em>p</em> &gt; .05 to <em>p</em> = the exact value. I just had to change the one function by commenting out a couple lines and re-knit my document. The function is included below; this was the most complicated of the ones I wrote, which included degrees of freedom, <em>t</em> and <em>F</em> values, reaction times, and percentages.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="format.html#cb10-1"></a><span class="co"># Make number formatting function for p values</span></span>
<span id="cb10-2"><a href="format.html#cb10-2"></a><span class="co"># val is the p value I want to format</span></span>
<span id="cb10-3"><a href="format.html#cb10-3"></a><span class="co"># format_code specifies whether I want to include the symbol or not</span></span>
<span id="cb10-4"><a href="format.html#cb10-4"></a>  <span class="co"># format_code defaults to including the symbol</span></span>
<span id="cb10-5"><a href="format.html#cb10-5"></a>p_formatting &lt;-<span class="st"> </span><span class="cf">function</span>(val, <span class="dt">format_code =</span> <span class="dv">1</span>) {</span>
<span id="cb10-6"><a href="format.html#cb10-6"></a>  </span>
<span id="cb10-7"><a href="format.html#cb10-7"></a>  <span class="co"># If I want to include the symbol (when I&#39;m calling this variable in text)</span></span>
<span id="cb10-8"><a href="format.html#cb10-8"></a>  <span class="cf">if</span> (format_code <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) {</span>
<span id="cb10-9"><a href="format.html#cb10-9"></a>    </span>
<span id="cb10-10"><a href="format.html#cb10-10"></a>    <span class="co"># If the p value is less than .001, get the less than symbol</span></span>
<span id="cb10-11"><a href="format.html#cb10-11"></a>      <span class="co"># Otherwise, get the equals symbol</span></span>
<span id="cb10-12"><a href="format.html#cb10-12"></a>      <span class="co"># The next line, which I commented out for my thesis,</span></span>
<span id="cb10-13"><a href="format.html#cb10-13"></a>      <span class="co"># looks to see if the value was greater than .05</span></span>
<span id="cb10-14"><a href="format.html#cb10-14"></a>    sign_type &lt;-<span class="st"> </span><span class="kw">if_else</span>(val <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.001</span>, <span class="st">&quot;&lt;&quot;</span>, <span class="st">&quot;=&quot;</span>)</span>
<span id="cb10-15"><a href="format.html#cb10-15"></a>    sign_type &lt;-<span class="st"> </span><span class="kw">if_else</span>(val <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.05</span>, <span class="st">&quot;&gt;&quot;</span>, sign_type)</span>
<span id="cb10-16"><a href="format.html#cb10-16"></a>    </span>
<span id="cb10-17"><a href="format.html#cb10-17"></a>    <span class="co"># If the p value is less than .001, set the value equal to .001</span></span>
<span id="cb10-18"><a href="format.html#cb10-18"></a>    <span class="cf">if</span> (sign_type <span class="op">==</span><span class="st"> &quot;&lt;&quot;</span>) {</span>
<span id="cb10-19"><a href="format.html#cb10-19"></a>      val &lt;-<span class="st"> &quot;.001&quot;</span></span>
<span id="cb10-20"><a href="format.html#cb10-20"></a>      </span>
<span id="cb10-21"><a href="format.html#cb10-21"></a>    <span class="co"># If the p value is greater than .05, set the value equal to .05 </span></span>
<span id="cb10-22"><a href="format.html#cb10-22"></a>      <span class="co"># I commented out these next two lines for my thesis</span></span>
<span id="cb10-23"><a href="format.html#cb10-23"></a>    } <span class="cf">else</span> <span class="cf">if</span> (sign_type <span class="op">==</span><span class="st"> &quot;&gt;&quot;</span>) {</span>
<span id="cb10-24"><a href="format.html#cb10-24"></a>      val &lt;-<span class="st"> &quot;.05&quot;</span></span>
<span id="cb10-25"><a href="format.html#cb10-25"></a>      </span>
<span id="cb10-26"><a href="format.html#cb10-26"></a>    <span class="co"># Otherwise, get the actual p value,</span></span>
<span id="cb10-27"><a href="format.html#cb10-27"></a>      <span class="co"># round it to three decimal places, and</span></span>
<span id="cb10-28"><a href="format.html#cb10-28"></a>      <span class="co"># remove the leading zero</span></span>
<span id="cb10-29"><a href="format.html#cb10-29"></a>    } <span class="cf">else</span> {</span>
<span id="cb10-30"><a href="format.html#cb10-30"></a>      val &lt;-<span class="st"> </span><span class="kw">sprintf</span>(<span class="st">&quot;%.3f&quot;</span>, val)</span>
<span id="cb10-31"><a href="format.html#cb10-31"></a>      val &lt;-<span class="st"> </span><span class="kw">substring</span>(val, <span class="dv">2</span>)</span>
<span id="cb10-32"><a href="format.html#cb10-32"></a>    }</span>
<span id="cb10-33"><a href="format.html#cb10-33"></a>    </span>
<span id="cb10-34"><a href="format.html#cb10-34"></a>    <span class="co"># Combine the new/formatted p value with &gt;, &lt;, or =,</span></span>
<span id="cb10-35"><a href="format.html#cb10-35"></a>      <span class="co"># depending on the p value</span></span>
<span id="cb10-36"><a href="format.html#cb10-36"></a>    val_string &lt;-<span class="st"> </span><span class="kw">paste</span>(sign_type, val, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb10-37"><a href="format.html#cb10-37"></a>    val_string</span>
<span id="cb10-38"><a href="format.html#cb10-38"></a>  </span>
<span id="cb10-39"><a href="format.html#cb10-39"></a>  <span class="co"># If I don&#39;t want the symbol (as in a table),</span></span>
<span id="cb10-40"><a href="format.html#cb10-40"></a>    <span class="co"># just round the value to three decimal places</span></span>
<span id="cb10-41"><a href="format.html#cb10-41"></a>    <span class="co"># and remove the leading zero</span></span>
<span id="cb10-42"><a href="format.html#cb10-42"></a>  } <span class="cf">else</span> <span class="cf">if</span> (format_code <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {</span>
<span id="cb10-43"><a href="format.html#cb10-43"></a>    </span>
<span id="cb10-44"><a href="format.html#cb10-44"></a>    val &lt;-<span class="st"> </span><span class="kw">sprintf</span>(<span class="st">&quot;%.3f&quot;</span>, val)</span>
<span id="cb10-45"><a href="format.html#cb10-45"></a>    val_string &lt;-<span class="st"> </span><span class="kw">substring</span>(val, <span class="dv">2</span>)</span>
<span id="cb10-46"><a href="format.html#cb10-46"></a>    val_string</span>
<span id="cb10-47"><a href="format.html#cb10-47"></a>    </span>
<span id="cb10-48"><a href="format.html#cb10-48"></a>  }</span>
<span id="cb10-49"><a href="format.html#cb10-49"></a>  </span>
<span id="cb10-50"><a href="format.html#cb10-50"></a>}</span></code></pre></div>
<p>I’ve included an example with this function below to demonstrate how you can really streamline your analysis-to-presentation pipeline with a simple function.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="format.html#cb11-1"></a><span class="co"># Create arbitrary p value</span></span>
<span id="cb11-2"><a href="format.html#cb11-2"></a>p_value &lt;-<span class="st"> </span><span class="fl">0.0123</span></span>
<span id="cb11-3"><a href="format.html#cb11-3"></a></span>
<span id="cb11-4"><a href="format.html#cb11-4"></a><span class="co"># Format p value including symbol</span></span>
<span id="cb11-5"><a href="format.html#cb11-5"></a>p_value_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">p_formatting</span>(p_value)</span>
<span id="cb11-6"><a href="format.html#cb11-6"></a></span>
<span id="cb11-7"><a href="format.html#cb11-7"></a><span class="co"># Format p value not including symbol</span></span>
<span id="cb11-8"><a href="format.html#cb11-8"></a>p_value_<span class="dv">0</span> &lt;-<span class="st"> </span><span class="kw">p_formatting</span>(p_value, <span class="dt">format_code =</span> <span class="dv">0</span>)</span></code></pre></div>
<p>Here is the original <em>p</em> value: 0.0123. I can write <em>p</em> = .012 to reference the variable that already has the symbol, or I can reference the variable without the symbol: .012. I’ve included an image of these lines below to give you a sense of how this looks in markdown.</p>
<p><img src="images/content_intext.png" width="830" /></p>
</div>
<div id="editing-templates" class="section level2">
<h2><span class="header-section-number">6.5</span> Editing templates</h2>
<p>To make extremely custom edits to templates, sometimes you have to edit the template documents directly. If the template generates a style document (e.g., .cls) in the directory with your .Rmd file, you can usually edit that without going to the package. Otherwise, you have to find out where your computer stores your R packages and edit the template there.</p>
<div id="clsex" class="section level3">
<h3><span class="header-section-number">6.5.1</span> Directory documents</h3>
<p>Some templates output formatting documents in your working directory. These are easier to access and edit. For example, knitting the <code>vitae::awesomecv</code> template created a .cls file that I could edit to change font sizes/colors.</p>
<p><img src="images/template_dir.png" width="424" /></p>
</div>
<div id="package-documents" class="section level3">
<h3><span class="header-section-number">6.5.2</span> Package documents</h3>
<p>To find out where your packages “live,” you can call <code>installed.packages()</code>. When you leave the parentheses blank (i.e., if you don’t provide any arguments), as I’ve done below, the function will return all of the packages you have installed. I’ve stored them as a dataframe, and then filtered for an example. Here, I’m looking at the <code>posterdown</code> package.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="format.html#cb12-1"></a><span class="co"># Make dataframe with installed packages</span></span>
<span id="cb12-2"><a href="format.html#cb12-2"></a>pkgs &lt;-<span class="st"> </span><span class="kw">installed.packages</span>() <span class="op">%&gt;%</span></span>
<span id="cb12-3"><a href="format.html#cb12-3"></a><span class="st">  </span><span class="kw">as.data.frame</span>()</span>
<span id="cb12-4"><a href="format.html#cb12-4"></a></span>
<span id="cb12-5"><a href="format.html#cb12-5"></a><span class="co"># Pull posterdown package </span></span>
<span id="cb12-6"><a href="format.html#cb12-6"></a>pstr &lt;-<span class="st"> </span>pkgs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb12-7"><a href="format.html#cb12-7"></a><span class="st">  </span><span class="kw">select</span>(Package, LibPath, Version, Depends, Imports) <span class="op">%&gt;%</span></span>
<span id="cb12-8"><a href="format.html#cb12-8"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(Package <span class="op">==</span><span class="st"> &quot;posterdown&quot;</span>)</span>
<span id="cb12-9"><a href="format.html#cb12-9"></a></span>
<span id="cb12-10"><a href="format.html#cb12-10"></a><span class="co"># Make table</span></span>
<span id="cb12-11"><a href="format.html#cb12-11"></a><span class="kw">kable</span>(pstr) <span class="op">%&gt;%</span></span>
<span id="cb12-12"><a href="format.html#cb12-12"></a><span class="st">  </span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="st">&quot;condensed&quot;</span>, <span class="dt">full_width =</span> <span class="ot">FALSE</span>, <span class="dt">font_size =</span> <span class="dv">12</span>)</span></code></pre></div>
<table class="table table-condensed" style="font-size: 12px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Package
</th>
<th style="text-align:left;">
LibPath
</th>
<th style="text-align:left;">
Version
</th>
<th style="text-align:left;">
Depends
</th>
<th style="text-align:left;">
Imports
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
posterdown
</td>
<td style="text-align:left;">
/Library/Frameworks/R.framework/Versions/3.5/Resources/library
</td>
<td style="text-align:left;">
1.0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
pagedown, rmarkdown, yaml
</td>
</tr>
</tbody>
</table>
<p>To edit package documents once you’ve located them, you should proceed with caution. Be sure to:</p>
<ul>
<li>Save the original template and move it to a different location (in the example below, I made the “original” folder and put the original template there)</li>
<li>Make one change at a time, and then re-knit the document to see what changed</li>
<li>Name the updated template with the same name in the same place as the original (here, in the “resources” folder)</li>
</ul>
<p><img src="images/template_package.png" width="1039" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="content.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="organization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/hollzzar/rmarkdown-guide/edit/master/05-formatting.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["rmarkdown-guide.pdf", "rmarkdown-guide.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
